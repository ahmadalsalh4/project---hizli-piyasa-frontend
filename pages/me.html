<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profilim | Hızlı Piyasa</title>
    <link rel="stylesheet" href="../css/me.css" />
  </head>
  <body>
    <header>
      <div id="header"></div>
    </header>

    <div class="profile-header">
      <div class="profile-pic-container">
        <img
          src="https://i.ibb.co/s9XWFk7S/file.jpg"
          alt="Profil Resmi"
          class="profile-pic"
        />
      </div>
      <div class="profile-info">
        <div class="profile-name">Ahmet Yılmaz</div>
        <div class="profile-contact">
          <div class="detail-item">
            <i class="fas fa-envelope"></i>
            <span>ahmet.yilmaz@example.com</span>
          </div>
          <div class="detail-item">
            <i class="fas fa-phone"></i>
            <span>(555) 123 45 67</span>
          </div>
        </div>
      </div>
      <div class="profile-actions-vertical">
        <button class="edit-btn">
          <i class="fas fa-edit"></i> Profili Düzenle
        </button>
        <a href="#" class="logout-btn">
          <i class="fas fa-sign-out-alt"></i> Çıkış Yap
        </a>
      </div>
    </div>

    <div class="ads-section">
      <h2 class="section-title">İlanlarım (24)</h2>

      <div class="status-tabs">
        <div class="status-tab active" data-status="all">Tümü</div>
        <div class="status-tab" data-status="active">Aktif</div>
        <div class="status-tab" data-status="pending">Bekleyen</div>
        <div class="status-tab" data-status="sold">Satılan</div>
      </div>

      <div class="ads-grid">
        <!-- Ad Card 1 -->
        <div class="ad-card">
          <div class="ad-image">
            <img src="https://i.ibb.co/s9XWFk7S/file.jpg" alt="Macbook Pro" />
            <div class="ad-status status-active">Aktif</div>
            <div class="ad-actions">
              <div class="action-btn" title="Düzenle">
                <i class="fas fa-edit"></i>
              </div>
              <div class="action-btn" title="Sil">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          </div>
          <div class="ad-details">
            <h3 class="ad-title">Macbook Pro M1 2020</h3>
            <div class="ad-location">
              <i class="fas fa-map-marker-alt"></i>
              İstanbul, Kadıköy
            </div>
            <div class="ad-price">18.750 TL</div>
            <div class="ad-meta">
              <span><i class="far fa-eye"></i> 189 görüntülenme</span>
              <span>1 hafta önce</span>
            </div>
          </div>
        </div>

        <!-- Ad Card 2 -->
        <div class="ad-card">
          <div class="ad-image">
            <img src="https://i.ibb.co/s9XWFk7S/file.jpg" alt="Macbook Pro" />
            <div class="ad-status status-active">Aktif</div>
            <div class="ad-actions">
              <div class="action-btn" title="Düzenle">
                <i class="fas fa-edit"></i>
              </div>
              <div class="action-btn" title="Sil">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          </div>
          <div class="ad-details">
            <h3 class="ad-title">Macbook Pro M1 2020</h3>
            <div class="ad-location">
              <i class="fas fa-map-marker-alt"></i>
              İstanbul, Kadıköy
            </div>
            <div class="ad-price">18.750 TL</div>
            <div class="ad-meta">
              <span><i class="far fa-eye"></i> 189 görüntülenme</span>
              <span>1 hafta önce</span>
            </div>
          </div>
        </div>

        <!-- Ad Card 3 -->
        <div class="ad-card">
          <div class="ad-image">
            <img src="https://i.ibb.co/s9XWFk7S/file.jpg" alt="Samsung TV" />
            <div class="ad-status status-sold">Satıldı</div>
            <div class="ad-actions">
              <div class="action-btn" title="Tekrar Yayınla">
                <i class="fas fa-redo"></i>
              </div>
              <div class="action-btn" title="Sil">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          </div>
          <div class="ad-details">
            <h3 class="ad-title">Samsung 55" Smart TV</h3>
            <div class="ad-location">
              <i class="fas fa-map-marker-alt"></i>
              İstanbul, Kadıköy
            </div>
            <div class="ad-price">8.500 TL</div>
            <div class="ad-meta">
              <span><i class="far fa-eye"></i> 320 görüntülenme</span>
              <span>2 hafta önce</span>
            </div>
          </div>
        </div>

        <!-- Ad Card 4 -->
        <div class="ad-card">
          <div class="ad-image">
            <img
              src="https://i.ibb.co/s9XWFk7S/file.jpg"
              alt="Nike Air Jordan"
            />
            <div class="ad-status status-pending">Bekleyen</div>
            <div class="ad-actions">
              <div class="action-btn" title="Düzenle">
                <i class="fas fa-edit"></i>
              </div>
              <div class="action-btn" title="Sil">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          </div>
          <div class="ad-details">
            <h3 class="ad-title">Nike Air Jordan 1</h3>
            <div class="ad-location">
              <i class="fas fa-map-marker-alt"></i>
              İstanbul, Kadıköy
            </div>
            <div class="ad-price">2.400 TL</div>
            <div class="ad-meta">
              <span><i class="far fa-eye"></i> 0 görüntülenme</span>
              <span>Bugün</span>
            </div>
          </div>
        </div>

        <!-- Ad Card 5 -->
        <div class="ad-card">
          <div class="ad-image">
            <img src="https://i.ibb.co/s9XWFk7S/file.jpg" alt="Macbook Pro" />
            <div class="ad-status status-active">Bekleyen</div>
            <div class="ad-actions">
              <div class="action-btn" title="Düzenle">
                <i class="fas fa-edit"></i>
              </div>
              <div class="action-btn" title="Sil">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          </div>
          <div class="ad-details">
            <h3 class="ad-title">Macbook Pro M1 2020</h3>
            <div class="ad-location">
              <i class="fas fa-map-marker-alt"></i>
              İstanbul, Kadıköy
            </div>
            <div class="ad-price">18.750 TL</div>
            <div class="ad-meta">
              <span><i class="far fa-eye"></i> 189 görüntülenme</span>
              <span>1 hafta önce</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div id="footer"></div>
    </footer>

    <script type="module">
      import { LoadHeader, LogOut, LoadFooter } from "../js/util.js";
      import { UpdateProfileState } from "../js/header.js";

      document.addEventListener("DOMContentLoaded", async () => {
        await LoadHeader("header");
        await UpdateProfileState("header");
        await LoadFooter("footer");

        // Add filtering functionality
        setupStatusFiltering();
      });

      document.addEventListener("click", (e) => {
        if (e.target.id == "logoutButton") {
          LogOut();
        }
      });

      function setupStatusFiltering() {
        const tabs = document.querySelectorAll(".status-tab");
        const adCards = document.querySelectorAll(".ad-card");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            // Update active tab
            tabs.forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            const status = tab.dataset.status;

            // Filter ad cards
            adCards.forEach((card) => {
              const cardStatus = card.querySelector(".ad-status").classList;

              if (
                status === "all" ||
                (status === "active" && cardStatus.contains("status-active")) ||
                (status === "pending" &&
                  cardStatus.contains("status-pending")) ||
                (status === "sold" && cardStatus.contains("status-sold"))
              ) {
                card.style.display = "block";
              } else {
                card.style.display = "none";
              }
            });
          });
        });
      }
    </script>
  </body>
</html>
